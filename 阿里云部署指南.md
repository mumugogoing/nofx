# 阿里云服务器一键部署指南

## ⚠️ 重要安全提示

**请不要在任何公开场合（包括Git仓库、文档、聊天记录）分享服务器密码！**

本文档提供部署步骤，但不包含任何实际密码。请妥善保管你的服务器凭证。

## 🚀 快速部署到你的阿里云服务器

### 第一步：在本地准备项目

```bash
# 1. 克隆项目
git clone https://github.com/mumugogoing/nofx.git
cd nofx

# 2. 配置API密钥
cp config.json.example config.json
nano config.json  # 填入你的币安和DeepSeek API密钥
```

### 第二步：配置SSH密钥（强烈推荐）

**为了安全，强烈建议使用SSH密钥而不是密码：**

```bash
# 生成SSH密钥（如果还没有）
ssh-keygen -t rsa -b 4096

# 将公钥复制到服务器（需要输入一次密码）
ssh-copy-id -p 22 root@你的服务器IP

# 之后就可以无密码登录了
ssh root@你的服务器IP
```

### 第三步：一键部署

使用我们提供的自动部署脚本：

```bash
# 运行部署脚本
chmod +x deploy-remote.sh
./deploy-remote.sh 你的服务器IP root
```

**脚本会自动完成以下操作：**
- ✅ 检查服务器连接
- ✅ 安装Docker（如果需要）
- ✅ 同步项目文件
- ✅ 构建Docker镜像
- ✅ 启动服务

### 第四步：访问应用

部署完成后：

- **Web界面**: http://你的服务器IP:3000
- **API服务**: http://你的服务器IP:8080/health

## 🔐 安全建议

### 1. 立即更改默认密码

```bash
# 登录服务器
ssh root@你的服务器IP

# 更改root密码
passwd
```

### 2. 配置阿里云安全组

在阿里云控制台配置安全组规则，开放必要端口：
- SSH: 22
- Web界面: 3000
- API服务: 8080

### 3. 启用防火墙

```bash
# 使用UFW配置防火墙
sudo ufw allow 22/tcp
sudo ufw allow 3000/tcp
sudo ufw allow 8080/tcp
sudo ufw enable
```

## 📋 常用管理命令

```bash
# 查看服务状态
ssh root@你的服务器IP 'cd /opt/nofx && docker compose ps'

# 查看实时日志
ssh root@你的服务器IP 'cd /opt/nofx && docker compose logs -f'

# 重启服务
ssh root@你的服务器IP 'cd /opt/nofx && docker compose restart'

# 停止服务
ssh root@你的服务器IP 'cd /opt/nofx && docker compose down'
```

## 🆘 遇到问题？

请查看完整的部署文档：[REMOTE_DEPLOY.md](REMOTE_DEPLOY.md)

或加入我们的Telegram社区：https://t.me/nofx_dev_community

---

**记住：永远不要将服务器密码提交到Git或分享给他人！**
